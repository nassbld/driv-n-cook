<div class="modal-overlay" (click)="close.emit()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>Nouveau Franchisé</h2>
      <button class="close-button" (click)="close.emit()">×</button>
    </div>
    <div class="modal-body">
      <form (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="name">Nom complet</label>
          <input type="text" id="name" name="name" [ngModel]="name()" (ngModelChange)="name.set($event)">
        </div>
        <div class="form-group">
          <label for="email">Adresse e-mail</label>
          <input type="email" id="email" name="email" [ngModel]="email()" (ngModelChange)="email.set($event)">
        </div>
        <div class="form-group">
          <label for="password">Mot de passe temporaire</label>
          <input type="password" id="password" name="password" [ngModel]="password()" (ngModelChange)="password.set($event)">
        </div>

        @if (errorMessage()) {
          <p class="error-message">{{ errorMessage() }}</p>
        }

        <div class="modal-footer">
          <button type="button" class="button-secondary" (click)="close.emit()">Annuler</button>
          <button type="submit" class="button-primary" [disabled]="isLoading()">
            @if (isLoading()) {
              <span>Création...</span>
            } @else {
              <span>Créer le franchisé</span>
            }
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
